---
description: ユーザータスク一覧からタスクを選択し、確認の上で実装を進めるワークフロー
---

# タスク実行ワークフロー

## 概要
このワークフローは、`.agent/tasks/user-tasks.md` に記載されたユーザータスクを確認し、適切なLLMモデルが選択されている際に、ユーザーへの確認を経てタスクを実装していくためのものです。

---

## 実行手順

### 1. タスク一覧の確認
```
view_file .agent/tasks/user-tasks.md
```
- ステータスが `To do` のタスクを確認する
- 優先度（🔴 High → 🟡 Medium → 🟢 Low）の順に確認

### 2. ユーザーへの確認
以下の内容を含めてユーザーに確認を取る：
- **実装するタスクのID・タイトル**
- **実装アプローチの概要**
- **想定される変更箇所**
- **推定作業時間**

例：
```
次のタスクの実装を提案します：

**タスク**: UI-001 - モバイル - AIスレッド一覧の新規作成ボタンをフローティングに
**アプローチ**: MobileNav.tsx に FloatingActionButton コンポーネントを追加
**変更箇所**: 
  - apps/web/src/components/nav/MobileNav.tsx
  - apps/web/src/styles/globals.css
**推定時間**: 30分

実装を進めてよろしいですか？
```

### 3. 実装の実行
ユーザーから承認を得たら：
1. 関連するコードを調査
2. 実装を行う
3. ビルドエラーがないことを確認
4. 実装内容をユーザーに報告

// turbo
```bash
cd /Users/tadamichikimura/mirror-chat-dev && npm run build
```

### 4. タスクステータスの更新
実装完了後、`.agent/tasks/user-tasks.md` のステータスを更新：
- 実装中: `In Progress`
- 確認待ち: `Review`
- 完了: `Done`

### 5. 次のタスクへ
- 完了したタスクについてユーザーに報告
- 次のタスクに進むか確認

---

## 注意事項

### 確認が必要なケース
- 🔴 High 優先度のセキュリティ関連タスク（SEC-*）
- データベーススキーマの変更（DB関連タスク）
- 破壊的な変更を伴うリファクタリング

### 自動実行可能なケース
ユーザーが明示的に許可した場合のみ：
- 軽微なUI調整（🟢 Low優先度）
- ビルドエラーの修正
- コードフォーマットの統一

---

## タスク選定の優先順位

1. **バグ修正（Bugs）** - 特に🔴 High優先度
2. **ユーザー体験に直結する機能** - 🔴 High優先度
3. **セキュリティ関連** - SEC-*
4. **新機能** - FEAT-*
5. **UI改善** - UI-*
6. **検索機能** - SEARCH-*
7. **コード品質** - CODE-*
8. **検討事項** - PLAN-* (ユーザーとの相談が必要)

---

## 関連ファイル
- タスク一覧: `.agent/tasks/user-tasks.md`
- 実装計画: `.agent/artifacts/implementation_plan.md` (必要に応じて作成)
